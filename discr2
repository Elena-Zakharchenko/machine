#include <iostream>
#include <cmath>


float discr(float a, float b, float c)
{
    return b*b - 4*a*c;
}
    
float squareEquation(float a, float b, float c, float signedSqrtDiscr, float x)
    {
    x = (-b + signedSqrtDiscr)/(2*a);
    return x;
    }
    
float linearEquation(float b, float c, float x)
    {
    x = -c/b;
    return x;
    }
    
float checkRoots(float a, float b, float c, float roots, float &equation)
{
    if (abs(a) < 0.000000001)
        {
            if (abs(b) < 0.000000001)
            {
                if (abs(c) < 0.000000001)
                {
                    std::cout << "infinitely many solutions";
                }
                else
                {
                    std::cout << "error";
                }
            }
            else
            {
                roots = 1;
                equation = 0;
            }
        }
        else
        {
        float discriminant = discr(a, b, c);
        if (discriminant > 0)
            {
            equation = 1;
            if (abs(discriminant) > 0.000000001)    
                roots = 2;
            }
            else
                roots = 1;
        }
    return roots;  
}

void printResults(float rootsNumber, float x, float x1)
    {
    if (rootsNumber == 1 || rootsNumber == 2)
        std::cout << "x1 = " << x << std::endl;
    if (rootsNumber == 2)
        std::cout << "x2 = " << x1 << std::endl;
    }
    
void solveEquation(float a, float b, float c, float &x, float &x1, float &equation, float rootsNumber)
{
    if (equation == 0)
        x = linearEquation(b, c, x);
             
    if (equation == 1)
        {
        float signedSqrtDiscr = sqrt(discr(a, b, c));
        x = squareEquation(a, b, c, signedSqrtDiscr, x);
        if (rootsNumber == 2)
            {
            signedSqrtDiscr *= (-1);
            x1 = squareEquation(a, b, c, signedSqrtDiscr, x1);
            }
        }
}

int main()
{
    float equation = 0;
    float roots = 0;
    float a = 0;
    float b = 0;
    float c = 0;
    float x = 0;
    float x1 = 0;
    
    std::cout << "Enter the coefficients a, b and c: ";
    std::cin >> a >> b >> c;
    
    float rootsNumber = checkRoots(a, b, c, roots, equation);
    
    solveEquation(a, b, c, x, x1, equation, rootsNumber);
        
    printResults(rootsNumber, x, x1);
}
