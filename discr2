#include <iostream>
#include <cmath>
 
float roots = 0;
float equation = 0;


float discr(float a, float b, float c)
{
    float discriminant = b*b - 4*a*c;
    return discriminant;
}
    
float square_equation(float a, float b, float c, float signed_sqrt_discr, float x)
    {
    x = (-b + signed_sqrt_discr)/(2*a);
    return x;
    }
    
float linear_equation(float b, float c, float x)
    {
    x = -c/b;
    return x;
    }
    
float check_roots(float a, float b, float c)
{
    if (abs(a) < 0.000000001)
        {
            if (abs(b) < 0.000000001)
            {
                if (abs(c) < 0.000000001)
                {
                    std::cout << "infinitely many solutions";
                }
                else
                {
                    std::cout << "error";
                }
            }
            else
            {
                roots = 1;
                equation = 0;
            }
        }
        else
        {
        float discriminant = discr(a, b, c);
        if (discriminant > 0)
            {
            equation = 1;
            if (abs(discriminant) > 0.000000001)    
                roots = 2;
            }
            else
                roots = 1;
        }
    return roots;  
}

void print_results(float roots, float x, float x1)
    {
    if (roots == 1 || roots == 2)
        std::cout << "x1 = " << x << std::endl;
    if (roots == 2)
        std::cout << "x2 = " << x1 << std::endl;
    }

int main()
{
    float a = 0;
    float b = 0;
    float c = 0;
    float x = 0;
    float x1 = 0;
    
    std::cout << "Enter the coefficients a, b and c: ";
    std::cin >> a >> b >> c;
    
     
    float roots = check_roots(a, b, c);
     
    if (equation == 0)
        x = linear_equation(b, c, x);
         
    if (equation == 1)
        {
        float signed_sqrt_discr = sqrt(discr(a, b, c));
        x = square_equation(a, b, c, signed_sqrt_discr, x);
        if (roots == 2)
            {
            signed_sqrt_discr *= (-1);
            x1 = square_equation(a, b, c, signed_sqrt_discr, x1);
            }
        }
        
    print_results(roots, x, x1);
}
